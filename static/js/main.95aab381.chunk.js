(this["webpackJsonpfirebase-react-auth"]=this["webpackJsonpfirebase-react-auth"]||[]).push([[0],{202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(49),i=n.n(c),l=n(6),o=n.n(l),u=n(10),s=n(2),m=n(24),d=n.n(m),E=(n(86),n(87),d.a.initializeApp({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/Blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/Blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/Blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/Blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/Blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/Blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_APP_ID})),p=d.a.storage(),v=E.auth(),f=r.a.createContext();function b(){return Object(a.useContext)(f)}function O(e){var t=e.children,n=Object(a.useState)(),c=Object(s.a)(n,2),i=c[0],l=c[1],o=Object(a.useState)(!0),u=Object(s.a)(o,2),m=u[0],d=u[1];Object(a.useEffect)((function(){return v.onAuthStateChanged((function(e){l(e),d(!1)}))}),[]);var E={currentUser:i,login:function(e,t){return v.signInWithEmailAndPassword(e,t)},signup:function(e,t){return v.createUserWithEmailAndPassword(e,t)},logout:function(){return v.signOut()},resetPassword:function(e){return v.sendPasswordResetEmail(e)},updateEmail:function(e){return i.updateEmail(e)},updatePassword:function(e){return i.updatePassword(e)}};return r.a.createElement(f.Provider,{value:E},!m&&t)}var g=n(5);function h(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),l=Object(s.a)(i,2),m=l[0],d=l[1],E=Object(a.useState)(""),p=Object(s.a)(E,2),v=p[0],f=p[1],O=b().signup,h=Object(a.useState)(""),j=Object(s.a)(h,2),S=j[0],_=j[1],C=Object(a.useState)(!1),P=Object(s.a)(C,2),w=P[0],T=P[1],y=Object(g.g)();function D(){return(D=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m===v){e.next=2;break}return e.abrupt("return",_("Passwords do not match"));case 2:return e.prev=2,_(""),T(!0),e.next=7,O(n,m);case 7:y.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),_("Failed to create an account");case 13:T(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement("div",{container:!0,justify:"center"},r.a.createElement("div",{item:!0,xs:12,md:6},S&&r.a.createElement("div",{severity:"error"},S),r.a.createElement("div",null,"Register"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement("input",{type:"text",required:!0,id:"email",label:"Email",variant:"outlined",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{required:!0,type:"password",id:"password",label:"Password",variant:"outlined",value:m,onChange:function(e){return d(e.target.value)}})," ",r.a.createElement("input",{required:!0,type:"password",id:"passwordConfirm",label:"Password confirmation",variant:"outlined",value:v,onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{disabled:w,color:"primary",fullWidth:!0,variant:"contained",onClick:function(){return function(){return D.apply(this,arguments)}()}},"Se connecter"))))}var j=n(3),S=n(14),_=n(11),C=n.n(_);var P=function(e){return r.a.createElement("div",null,r.a.createElement("button",{size:"small",color:"primary"},r.a.createElement(j.b,{to:"/comments/"+e.slug}," Commentaires")))};function w(e){var t=Object(a.useState)(),n=Object(s.a)(t,2),c=n[0],i=n[1],l=function(){window.location.reload()};function m(){return(m=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!1),console.log(c),t.next=4,C.a.firestore().collection("articles").doc(e.id).delete().then((function(){l(),console.log("Post Delete")}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(j.b,{to:"/focus/"+e.id},r.a.createElement("img",{className:"container-img-little-card",src:e.img,alt:"no-img"}),r.a.createElement("div",null,r.a.createElement("div",null,e.title),r.a.createElement("div",null,e.description)))),r.a.createElement("div",null,r.a.createElement(P,{slug:e.id})),r.a.createElement("button",null,r.a.createElement(j.b,{to:"/modify-post/"+e.id},"Modifier"))),r.a.createElement("button",{onClick:function(){console.log("click"),function(){m.apply(this,arguments)}()}},"Supprimer"))}var T=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)(),o=Object(s.a)(l,2);return o[0],o[1],Object(a.useEffect)((function(){C.a.firestore().collection("articles").where("userId","==",e.userId).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id}))})),i(t)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",null,c&&c.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(w,{title:e.title,description:e.description,img:e.img,slug:e.title,id:e.id}))}))))};function y(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=(t[1],b().currentUser);return r.a.createElement("div",null,r.a.createElement("form",null,n&&r.a.createElement("div",{severity:"error"},n),r.a.createElement("div",null,"Dashboard de : ",c.email),r.a.createElement(T,{userId:c.uid}),r.a.createElement("button",null,r.a.createElement(j.b,{to:"/create-post"}," Cr\xe9er un nouveau post"))))}var D=n(77),x=n.n(D);n(201);function R(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),l=Object(s.a)(i,2),m=l[0],d=l[1],E=Object(a.useState)(""),v=Object(s.a)(E,2),f=v[0],O=v[1],h=b().currentUser,j=Object(g.g)(),S=Object(a.useState)(""),_=Object(s.a)(S,2),P=_[0],w=_[1];console.log(P);function T(e){p.ref("/images/".concat(e.name)).put(e)}function y(){return(y=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("start of upload"),""===P&&console.error("not an image, the image file is a ".concat(typeof P)),e.next=4,T(P);case 4:return e.t0=n,e.t1=m,e.t2=f,e.next=9,p.ref("images").child(P.name).getDownloadURL();case 9:return e.t3=e.sent,e.t4=h.email,e.t5=h.uid,e.t6=C.a.firestore.Timestamp.now().toDate(),t={title:e.t0,description:e.t1,content:e.t2,img:e.t3,user:e.t4,userId:e.t5,date:e.t6},e.next=16,C.a.firestore().collection("articles").add(t);case 16:a=e.sent,console.log("Set: ",a),j.push("/dashboard");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",null,"Cr\xe9er un post"),r.a.createElement("input",{id:"title",label:"Titre",variant:"outlined",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{id:"password",label:"Description",variant:"outlined",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];w((function(e){return t}))}}),r.a.createElement(x.a,{value:f,onChange:function(e){O(e),console.log(e)}}),r.a.createElement("button",{onClick:function(){return function(){return y.apply(this,arguments)}()}},"Cr\xe9er"))}function N(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),l=Object(s.a)(i,2),m=l[0],d=l[1],E=b().login,p=Object(a.useState)(""),v=Object(s.a)(p,2),f=v[0],O=v[1],h=Object(a.useState)(!1),j=Object(s.a)(h,2),S=j[0],_=j[1],C=Object(g.g)();function P(){return(P=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(""),_(!0),e.next=5,E(n,m);case 5:C.push("/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O("Failed to log in");case 11:_(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",null,f&&r.a.createElement("div",{severity:"error"},f),r.a.createElement("div",null,"Login"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement("input",{type:"text",required:!0,id:"email",label:"Email",variant:"outlined",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{type:"password",required:!0,id:"password",label:"Password",variant:"outlined",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement("button",{disabled:S,color:"primary",variant:"contained",onClick:function(){return function(){return P.apply(this,arguments)}()}},"Se connecter"))))}var A=n(79);function I(e){var t=e.component,n=Object(A.a)(e,["component"]),a=b().currentUser;return r.a.createElement(g.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(g.a,{to:"/login"})}}))}function k(){var e=Object(a.useRef)(),t=b().resetPassword,n=Object(a.useState)(""),c=Object(s.a)(n,2),i=c[0],l=c[1],m=Object(a.useState)(""),d=Object(s.a)(m,2),E=d[0],p=d[1],v=Object(a.useState)(!1),f=Object(s.a)(v,2),O=(f[0],f[1]);function g(){return(g=Object(u.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,p(""),l(""),O(!0),n.next=7,t(e.current.value);case 7:p("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),l("Failed to reset password");case 13:O(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center mb-4"},"Password Reset"),i&&r.a.createElement("div",{variant:"danger"},i),E&&r.a.createElement("div",{variant:"success"},E),r.a.createElement("div",{onSubmit:function(e){return g.apply(this,arguments)}},r.a.createElement("div",{id:"email"},r.a.createElement("div",null,"Email"),r.a.createElement("div",{type:"email",ref:e,required:!0})),r.a.createElement("button",{type:"submit"},"Reset Password")),r.a.createElement("div",{className:"w-100 text-center mt-3"},r.a.createElement(j.b,{to:"/login"},"Login"))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",r.a.createElement(j.b,{to:"/signup"},"Sign Up")))}function U(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),c=b(),i=c.currentUser,l=c.updatePassword,o=c.updateEmail,u=Object(a.useState)(""),m=Object(s.a)(u,2),d=m[0],E=m[1],p=Object(a.useState)(!1),v=Object(s.a)(p,2),f=v[0],O=v[1],h=Object(g.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Update Profile"),d&&r.a.createElement("div",{variant:"danger"},d),r.a.createElement("div",{onSubmit:function(a){if(a.preventDefault(),t.current.value!==n.current.value)return E("Passwords do not match");var r=[];O(!0),E(""),e.current.value!==i.email&&r.push(o(e.current.value)),t.current.value&&r.push(l(t.current.value)),Promise.all(r).then((function(){h.push("/")})).catch((function(){E("Failed to update account")})).finally((function(){O(!1)}))}},r.a.createElement("div",{id:"email"},r.a.createElement("div",null,"Email"),r.a.createElement("div",{type:"email",ref:e,required:!0,defaultValue:i.email})),r.a.createElement("div",{id:"password"},r.a.createElement("div",null,"Password"),r.a.createElement("div",{type:"password",ref:t,placeholder:"laisser vide pour conserver le m\xeame"})),r.a.createElement("div",{id:"password-confirm"},r.a.createElement("div",null,"Password Confirmation"),r.a.createElement("div",{type:"password",ref:n,placeholder:"laisser vide pour conserver le m\xeame"})),r.a.createElement("button",{disabled:f,type:"submit"},"Update")))),r.a.createElement("div",null,r.a.createElement(j.b,{to:"/"},"Cancel")))}n(202);function B(e){return r.a.createElement("div",{className:"container-little-card"},r.a.createElement(j.b,{to:"/focus/"+e.id},r.a.createElement("img",{className:"container-img-little-card",src:e.img,alt:"no-img"}),r.a.createElement("div",null,e.title),r.a.createElement("div",null,e.description)),r.a.createElement(P,{slug:e.id}))}n(203);var K=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){d.a.firestore().collection("articles").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id}))})),c(t)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"container-blogpage"},n&&n.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(B,{title:e.title,description:e.description,img:e.img,slug:e.title,id:e.id}))}))))},W=n(78);n(48);var L=function(e){return r.a.createElement("div",{className:"container-icon-navbar"},r.a.createElement(j.b,{id:"id-icon-home",to:e.path},r.a.createElement(W.a,null)))};var F=function(e){return r.a.createElement("div",{className:"container-icon-link"},r.a.createElement(j.b,{id:"id-icon-link",to:e.path},e.name))};var H=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],i=n[1],l=b().logout,m=Object(g.g)();function d(){return(d=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(""),e.prev=1,console.log("tentative de deconnexion"),e.next=5,l();case 5:m.push("/"),console.log("Deconnexion ok"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i("Failed to log out");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return r.a.createElement("div",null," ",c&&r.a.createElement("div",{severity:"error"},c),r.a.createElement("button",{className:"icon-navbar",onClick:function(){return d.apply(this,arguments)}},e.name))};n(204);var q=function(){var e=b(),t=e.currentUser;return e.logout,r.a.createElement("div",{className:"container-icon-navbar"},r.a.createElement("div",null,r.a.createElement(L,{name:"Le Blog",path:"/",className:"container-title-navbar"})),r.a.createElement("div",{className:"container-icon-link"},t?r.a.createElement(F,{color:"inherit",name:"Dashboard",path:"/dashboard"}):r.a.createElement(r.a.Fragment,null),t?r.a.createElement(H,{name:"LogOut",color:"inherit"}):r.a.createElement(r.a.Fragment,null),t?r.a.createElement(r.a.Fragment,null):r.a.createElement(F,{color:"inherit",name:"LogIn",path:"/login"})," ",t?r.a.createElement(r.a.Fragment,null):r.a.createElement(F,{color:"inherit",name:"SignUp",path:"/connection-disable"})))};n(205);function V(){return r.a.createElement("div",{className:"container-navbar"},r.a.createElement(q,null))}function M(e){return r.a.createElement("div",{className:"container-big-card"},r.a.createElement("div",null,r.a.createElement("img",{className:"container-img",src:e.img,alt:"no-img"}),r.a.createElement("div",null,r.a.createElement("div",null,e.title),r.a.createElement("div",null,function(){var t=e.content;return r.a.createElement("div",{component:"span",dangerouslySetInnerHTML:{__html:t}})}()))),r.a.createElement("div",null,r.a.createElement(P,{slug:e.id})))}var G=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){!function(){var e=document.location.href,t=e.substring(e.lastIndexOf("/")+1);console.log(t),C.a.firestore().collection("articles").where(C.a.firestore.FieldPath.documentId(),"==",t).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id}))})),c(t)}))}()}),[]),r.a.createElement("div",null,n&&n.map((function(e,t){return r.a.createElement("div",null,r.a.createElement(M,{title:e.title,content:e.content,img:e.img,slug:e.title,id:e.id}))})))};var J=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=document.location.href,l=i.substring(i.lastIndexOf("/")+1);return Object(a.useEffect)((function(){console.log("Comment queue_url => :",l),C.a.firestore().collection("comments").where("idPost","==",l).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id}))})),c(t)}))}),[]),r.a.createElement("div",null,n&&n.map((function(e,t){return r.a.createElement("div",{key:t},"Commentaires : ",e.comment," ecrit par ",e.userPseudo)})))};var z=function(){var e=document.location.href,t=e.substring(e.lastIndexOf("/")+1),n=Object(a.useState)([]),c=Object(s.a)(n,2),i=c[0],l=c[1],m=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.firestore().collection("articles").doc(t).get();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l(m()),console.log(i.title)}),[]),r.a.createElement("div",null,"modifier le post")};n(206);var Y=function(){return r.a.createElement("div",{className:"container-presentation"},r.a.createElement("div",{className:"title-presentation"},"Bienvenue"),r.a.createElement("div",{className:"paragraphe-presentation"},r.a.createElement("div",null,"Ceci est le blog d'un d\xe9veloppeur junior en reconversion, j'ai d\xe9cid\xe9 de d\xe9velopper ce blog de z\xe9ro en ReactJs/CSS/Firebase en utilisant un minimun de libraries."),r.a.createElement("div",null,"il me servira de support pour exposer mon savoir faire ainsi que quelques r\xe9flexions o\xf9 notes sur des notions apprisent \xe0 travers ce projet.")),r.a.createElement("a",{id:"lien-github",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Adrien35240/Blog"},"Le Github du projet est disponible ici"),r.a.createElement("div",{className:"st"},"Stay tune !"))};var Q=function(){return r.a.createElement("div",null,"Dsl l'enregistrement est d\xe9sactiv\xe9 !")};var X=function(){return r.a.createElement(j.a,null,r.a.createElement(O,null,r.a.createElement(V,null),r.a.createElement(Y,null),r.a.createElement(g.d,null,r.a.createElement(I,{path:"/create-post",component:R}),r.a.createElement(I,{path:"/Modify-post",component:z}),r.a.createElement(I,{path:"/update-profile",component:U}),r.a.createElement(I,{exact:!0,path:"/dashboard",component:y}),r.a.createElement(g.b,{path:"/connection-disable",component:Q}),r.a.createElement(g.b,{path:"/focus/:slug",component:G}),r.a.createElement(g.b,{path:"/focus/:slug",component:G}),r.a.createElement(g.b,{path:"/comments/:slug",component:J}),r.a.createElement(g.b,{path:"/signup",component:h}),r.a.createElement(g.b,{path:"/login",component:N}),r.a.createElement(g.b,{path:"/forgot-password",component:k}),r.a.createElement(g.b,{path:"/",component:K}))))};n(207);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root"))},48:function(e,t,n){},80:function(e,t,n){e.exports=n(208)}},[[80,1,2]]]);
//# sourceMappingURL=main.95aab381.chunk.js.map