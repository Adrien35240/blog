(this["webpackJsonpfirebase-react-auth"]=this["webpackJsonpfirebase-react-auth"]||[]).push([[0],{202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),l=a.n(c),i=a(6),o=a.n(i),u=a(10),s=a(2),m=a(24),d=a.n(m),p=(a(86),a(87),d.a.initializeApp({apiKey:"AIzaSyA5L77NEcwnqKrAvxbEzQmQOK8gE_T1iJM",authDomain:"mon-blog-e0a33.firebaseapp.com",projectId:"mon-blog-e0a33",storageBucket:"mon-blog-e0a33.appspot.com",messagingSenderId:"936753106550",appId:"1:936753106550:web:a42f7437476d57368dd957"})),f=d.a.storage(),v=p.auth(),E=r.a.createContext();function b(){return Object(n.useContext)(E)}function g(e){var t=e.children,a=Object(n.useState)(),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!0),u=Object(s.a)(o,2),m=u[0],d=u[1];Object(n.useEffect)((function(){return v.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]);var p={currentUser:l,login:function(e,t){return v.signInWithEmailAndPassword(e,t)},signup:function(e,t){return v.createUserWithEmailAndPassword(e,t)},logout:function(){return v.signOut()},resetPassword:function(e){return v.sendPasswordResetEmail(e)},updateEmail:function(e){return l.updateEmail(e)},updatePassword:function(e){return l.updatePassword(e)}};return r.a.createElement(E.Provider,{value:p},!m&&t)}var h=a(5);function j(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),m=i[0],d=i[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),v=f[0],E=f[1],g=b().signup,j=Object(n.useState)(""),O=Object(s.a)(j,2),w=O[0],y=O[1],S=Object(n.useState)(!1),x=Object(s.a)(S,2),C=x[0],k=x[1],P=Object(h.g)();function N(){return(N=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m===v){e.next=2;break}return e.abrupt("return",y("Passwords do not match"));case 2:return e.prev=2,y(""),k(!0),e.next=7,g(a,m);case 7:P.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),y("Failed to create an account");case 13:k(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement("div",{container:!0,justify:"center"},r.a.createElement("div",{item:!0,xs:12,md:6},w&&r.a.createElement("div",{severity:"error"},w),r.a.createElement("div",null,"Register"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement("input",{type:"text",required:!0,id:"email",label:"Email",variant:"outlined",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{required:!0,type:"password",id:"password",label:"Password",variant:"outlined",value:m,onChange:function(e){return d(e.target.value)}})," ",r.a.createElement("input",{required:!0,type:"password",id:"passwordConfirm",label:"Password confirmation",variant:"outlined",value:v,onChange:function(e){return E(e.target.value)}}),r.a.createElement("button",{disabled:C,color:"primary",fullWidth:!0,variant:"contained",onClick:function(){return function(){return N.apply(this,arguments)}()}},"Se connecter"))))}var O=a(3),w=a(14),y=a(11),S=a.n(y);var x=function(e){return r.a.createElement("div",null,r.a.createElement("button",{size:"small",color:"primary"},r.a.createElement(O.b,{to:"/comments/"+e.slug}," Commentaires")))};function C(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],l=a[1],i=function(){window.location.reload()};function m(){return(m=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),console.log(c),t.next=4,S.a.firestore().collection("articles").doc(e.id).delete().then((function(){i(),console.log("Post Delete")}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(O.b,{to:"/focus/"+e.id},r.a.createElement("img",{className:"container-img-little-card",src:e.img,alt:"no-img"}),r.a.createElement("div",null,r.a.createElement("div",null,e.title),r.a.createElement("div",null,e.description)))),r.a.createElement("div",null,r.a.createElement(x,{slug:e.id})),r.a.createElement("button",null,r.a.createElement(O.b,{to:"/modify-post/"+e.id},"Modifier"))),r.a.createElement("button",{onClick:function(){console.log("click"),function(){m.apply(this,arguments)}()}},"Supprimer"))}var k=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(),o=Object(s.a)(i,2);return o[0],o[1],Object(n.useEffect)((function(){S.a.firestore().collection("articles").where("userId","==",e.userId).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(w.a)(Object(w.a)({},e.data()),{},{id:e.id}))})),l(t)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",null,c&&c.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(C,{title:e.title,description:e.description,img:e.img,slug:e.title,id:e.id}))}))))};function P(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=(t[1],b().currentUser);return r.a.createElement("div",null,r.a.createElement("form",null,a&&r.a.createElement("div",{severity:"error"},a),r.a.createElement("div",null,"Dashboard de : ",c.email),r.a.createElement(k,{userId:c.uid}),r.a.createElement("button",null,r.a.createElement(O.b,{to:"/create-post"}," Cr\xe9er un nouveau post"))))}var N=a(77),I=a.n(N);a(201);function F(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),m=i[0],d=i[1],p=Object(n.useState)(""),v=Object(s.a)(p,2),E=v[0],g=v[1],j=b().currentUser,O=Object(h.g)(),w=Object(n.useState)(""),y=Object(s.a)(w,2),x=y[0],C=y[1];console.log(x);function k(e){f.ref("/images/".concat(e.name)).put(e)}function P(){return(P=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("start of upload"),""===x&&console.error("not an image, the image file is a ".concat(typeof x)),e.next=4,k(x);case 4:return e.t0=a,e.t1=m,e.t2=E,e.next=9,f.ref("images").child(x.name).getDownloadURL();case 9:return e.t3=e.sent,e.t4=j.email,e.t5=j.uid,e.t6=S.a.firestore.Timestamp.now().toDate(),t={title:e.t0,description:e.t1,content:e.t2,img:e.t3,user:e.t4,userId:e.t5,date:e.t6},e.next=16,S.a.firestore().collection("articles").add(t);case 16:n=e.sent,console.log("Set: ",n),O.push("/dashboard");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",null,"Cr\xe9er un post"),r.a.createElement("input",{id:"title",label:"Titre",variant:"outlined",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{id:"password",label:"Description",variant:"outlined",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];C((function(e){return t}))}}),r.a.createElement(I.a,{value:E,onChange:function(e){g(e),console.log(e)}}),r.a.createElement("button",{onClick:function(){return function(){return P.apply(this,arguments)}()}},"Cr\xe9er"))}function q(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),m=i[0],d=i[1],p=b().login,f=Object(n.useState)(""),v=Object(s.a)(f,2),E=v[0],g=v[1],j=Object(n.useState)(!1),O=Object(s.a)(j,2),w=O[0],y=O[1],S=Object(h.g)();function x(){return(x=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(""),y(!0),e.next=5,p(a,m);case 5:S.push("/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g("Failed to log in");case 11:y(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("div",null,E&&r.a.createElement("div",{severity:"error"},E),r.a.createElement("div",null,"Login"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement("input",{type:"text",required:!0,id:"email",label:"Email",variant:"outlined",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{type:"password",required:!0,id:"password",label:"Password",variant:"outlined",value:m,onChange:function(e){return d(e.target.value)}}),r.a.createElement("button",{disabled:w,color:"primary",variant:"contained",onClick:function(){return function(){return x.apply(this,arguments)}()}},"Se connecter"))))}var U=a(79);function D(e){var t=e.component,a=Object(U.a)(e,["component"]),n=b().currentUser;return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/login"})}}))}function R(){var e=Object(n.useRef)(),t=b().resetPassword,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],i=c[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],f=d[1],v=Object(n.useState)(!1),E=Object(s.a)(v,2),g=(E[0],E[1]);function h(){return(h=Object(u.a)(o.a.mark((function a(n){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,f(""),i(""),g(!0),a.next=7,t(e.current.value);case 7:f("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i("Failed to reset password");case 13:g(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center mb-4"},"Password Reset"),l&&r.a.createElement("div",{variant:"danger"},l),p&&r.a.createElement("div",{variant:"success"},p),r.a.createElement("div",{onSubmit:function(e){return h.apply(this,arguments)}},r.a.createElement("div",{id:"email"},r.a.createElement("div",null,"Email"),r.a.createElement("div",{type:"email",ref:e,required:!0})),r.a.createElement("button",{type:"submit"},"Reset Password")),r.a.createElement("div",{className:"w-100 text-center mt-3"},r.a.createElement(O.b,{to:"/login"},"Login"))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",r.a.createElement(O.b,{to:"/signup"},"Sign Up")))}function L(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=b(),l=c.currentUser,i=c.updatePassword,o=c.updateEmail,u=Object(n.useState)(""),m=Object(s.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(!1),v=Object(s.a)(f,2),E=v[0],g=v[1],j=Object(h.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Update Profile"),d&&r.a.createElement("div",{variant:"danger"},d),r.a.createElement("div",{onSubmit:function(n){if(n.preventDefault(),t.current.value!==a.current.value)return p("Passwords do not match");var r=[];g(!0),p(""),e.current.value!==l.email&&r.push(o(e.current.value)),t.current.value&&r.push(i(t.current.value)),Promise.all(r).then((function(){j.push("/")})).catch((function(){p("Failed to update account")})).finally((function(){g(!1)}))}},r.a.createElement("div",{id:"email"},r.a.createElement("div",null,"Email"),r.a.createElement("div",{type:"email",ref:e,required:!0,defaultValue:l.email})),r.a.createElement("div",{id:"password"},r.a.createElement("div",null,"Password"),r.a.createElement("div",{type:"password",ref:t,placeholder:"laisser vide pour conserver le m\xeame"})),r.a.createElement("div",{id:"password-confirm"},r.a.createElement("div",null,"Password Confirmation"),r.a.createElement("div",{type:"password",ref:a,placeholder:"laisser vide pour conserver le m\xeame"})),r.a.createElement("button",{disabled:E,type:"submit"},"Update")))),r.a.createElement("div",null,r.a.createElement(O.b,{to:"/"},"Cancel")))}a(202);function A(e){return r.a.createElement("div",{className:"container-little-card"},r.a.createElement(O.b,{to:"/focus/"+e.id},r.a.createElement("img",{className:"container-img-little-card",src:e.img,alt:"no-img"}),r.a.createElement("div",null,e.title),r.a.createElement("div",null,e.description)),r.a.createElement(x,{slug:e.id}))}a(203);var z=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){d.a.firestore().collection("articles").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(w.a)(Object(w.a)({},e.data()),{},{id:e.id}))})),c(t)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"container-blogpage"},a&&a.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(A,{title:e.title,description:e.description,img:e.img,slug:e.title,id:e.id}))}))))},B=a(78);a(48);var M=function(e){return r.a.createElement("div",{className:"container-icon-navbar"},r.a.createElement(O.b,{id:"id-icon-home",to:e.path},r.a.createElement(B.a,null)))};var _=function(e){return r.a.createElement("div",{className:"container-icon-link"},r.a.createElement(O.b,{id:"id-icon-link",to:e.path},e.name))};var J=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],i=b().logout,m=Object(h.g)();function d(){return(d=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(""),e.prev=1,console.log("tentative de deconnexion"),e.next=5,i();case 5:m.push("/"),console.log("Deconnexion ok"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l("Failed to log out");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return r.a.createElement("div",null," ",c&&r.a.createElement("div",{severity:"error"},c),r.a.createElement("button",{className:"icon-navbar",onClick:function(){return d.apply(this,arguments)}},e.name))};a(204);var T=function(){var e=b(),t=e.currentUser;return e.logout,r.a.createElement("div",{className:"container-icon-navbar"},r.a.createElement("div",null,r.a.createElement(M,{name:"Le Blog",path:"/",className:"container-title-navbar"})),r.a.createElement("div",{className:"container-icon-link"},t?r.a.createElement(_,{color:"inherit",name:"Dashboard",path:"/dashboard"}):r.a.createElement(r.a.Fragment,null),t?r.a.createElement(J,{name:"LogOut",color:"inherit"}):r.a.createElement(r.a.Fragment,null),t?r.a.createElement(r.a.Fragment,null):r.a.createElement(_,{color:"inherit",name:"LogIn",path:"/login"})," ",t?r.a.createElement(r.a.Fragment,null):r.a.createElement(_,{color:"inherit",name:"SignUp",path:"/connection-disable"})))};a(205);function K(){return r.a.createElement("div",{className:"container-navbar"},r.a.createElement(T,null))}function V(e){return r.a.createElement("div",{className:"container-big-card"},r.a.createElement("div",null,r.a.createElement("img",{className:"container-img",src:e.img,alt:"no-img"}),r.a.createElement("div",null,r.a.createElement("div",null,e.title),r.a.createElement("div",null,function(){var t=e.content;return r.a.createElement("div",{component:"span",dangerouslySetInnerHTML:{__html:t}})}()))),r.a.createElement("div",null,r.a.createElement(x,{slug:e.id})))}var W=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){!function(){var e=document.location.href,t=e.substring(e.lastIndexOf("/")+1);console.log(t),S.a.firestore().collection("articles").where(S.a.firestore.FieldPath.documentId(),"==",t).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(w.a)(Object(w.a)({},e.data()),{},{id:e.id}))})),c(t)}))}()}),[]),r.a.createElement("div",null,a&&a.map((function(e,t){return r.a.createElement("div",null,r.a.createElement(V,{title:e.title,content:e.content,img:e.img,slug:e.title,id:e.id}))})))};var Q=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=document.location.href,i=l.substring(l.lastIndexOf("/")+1);return Object(n.useEffect)((function(){console.log("Comment queue_url => :",i),S.a.firestore().collection("comments").where("idPost","==",i).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(w.a)(Object(w.a)({},e.data()),{},{id:e.id}))})),c(t)}))}),[]),r.a.createElement("div",null,a&&a.map((function(e,t){return r.a.createElement("div",{key:t},"Commentaires : ",e.comment," ecrit par ",e.userPseudo)})))};var G=function(){var e=document.location.href,t=e.substring(e.lastIndexOf("/")+1),a=Object(n.useState)([]),c=Object(s.a)(a,2),l=c[0],i=c[1],m=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.firestore().collection("articles").doc(t).get();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(m()),console.log(l.title)}),[]),r.a.createElement("div",null,"modifier le post")};a(206);var H=function(){return r.a.createElement("div",{className:"container-presentation"},r.a.createElement("div",{className:"title-presentation"},"Bienvenue"),r.a.createElement("div",{className:"paragraphe-presentation"},r.a.createElement("div",null,"Ceci est le blog d'un d\xe9veloppeur junior en reconversion, j'ai d\xe9cid\xe9 de d\xe9velopper ce blog de z\xe9ro en ReactJs/CSS/Firebase en utilisant un minimun de libraries."),r.a.createElement("div",null,"il me servira de support pour exposer mon savoir faire ainsi que quelques r\xe9flexions o\xf9 notes sur des notions apprisent \xe0 travers ce projet.")),r.a.createElement("a",{id:"lien-github",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Adrien35240/Blog"},"Le Github du projet est disponible ici"),r.a.createElement("div",{className:"st"},"Stay tune !"))};var X=function(){return r.a.createElement("div",null,"Dsl l'enregistrement est d\xe9sactiv\xe9 !")};var Y=function(){return r.a.createElement(O.a,null,r.a.createElement(g,null,r.a.createElement(K,null),r.a.createElement(H,null),r.a.createElement(h.d,null,r.a.createElement(D,{path:"/create-post",component:F}),r.a.createElement(D,{path:"/Modify-post",component:G}),r.a.createElement(D,{path:"/update-profile",component:L}),r.a.createElement(D,{exact:!0,path:"/dashboard",component:P}),r.a.createElement(h.b,{path:"/connection-disable",component:X}),r.a.createElement(h.b,{path:"/focus/:slug",component:W}),r.a.createElement(h.b,{path:"/focus/:slug",component:W}),r.a.createElement(h.b,{path:"/comments/:slug",component:Q}),r.a.createElement(h.b,{path:"/signup",component:j}),r.a.createElement(h.b,{path:"/login",component:q}),r.a.createElement(h.b,{path:"/forgot-password",component:R}),r.a.createElement(h.b,{path:"/",component:z}))))};a(207);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))},48:function(e,t,a){},80:function(e,t,a){e.exports=a(208)}},[[80,1,2]]]);
//# sourceMappingURL=main.e2568dde.chunk.js.map